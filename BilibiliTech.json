{"title":"幻电物业 - B站技术中心","url":"https://space.bilibili.com/393183630/article","favicon":"https://space.bilibili.com/393183630/favicon.ico","elements":[{"title":"精彩回顾丨Kratos开源年会","contents":"<a href=\"//www.bilibili.com/read/cv21329916\" target=\"_blank\" title=\"2023年1月14日13点30分，哔哩哔哩技术联合Kratos开源社区举办的年终活动于线上顺利开展。本次活动特别邀请到了众多大佬带来精彩的议题分享和圆桌讨论。让我们一起来回顾一下这次干货满满的年会吧！温馨提示：复制并在哔哩哔哩搜索BV号BV15M411b7Ny即可查看Kratos开源年会直播回放哦。文章末尾更有分享讲师提供的PDF干货，请小伙伴们在后台回复查收！Kratos开源年会精彩概览 曹国梁：Kratos开源与工程化最佳实践曹国梁是 Kratos 的主要维护者，参与了Kratos 框架的整体设计，对\">\n                      2023年1月14日13点30分，哔哩哔哩技术联合Kratos开源社区举办的年终活动于线上顺利开展。本次活动特别邀请到了众多大佬带来精彩的议题分享和圆桌讨论。让我们一起来回顾一下这次干货满满的年会吧！温馨提示：复制并在哔哩哔哩搜索BV号BV15M411b7Ny即可查看Kratos开源年会直播回放哦。文章末尾更有分享讲师提供的PDF干货，请小伙伴们在后台回复查收！Kratos开源年会精彩概览 曹国梁：Kratos开源与工程化最佳实践曹国梁是 Kratos 的主要维护者，参与了Kratos 框架的整体设计，对\n                    </a>","link":"https://www.bilibili.com/read/cv21329916","retrieved":1674840865530},{"title":"B站微服务API管理","contents":"<a href=\"//www.bilibili.com/read/cv21313074\" target=\"_blank\" title=\"本期作者引言API 管理是应用开发中不可或缺的一部分。在早期服务数量不多的情况下，团队可以自行负责 API 管理。但随着公司规模逐渐扩张，业务接口数量爆炸式增长，此时 API 管理的任务应由统一的接口管理平台来承担，结束各自为政的局面。统一管理能够最大程度地发挥 API 的价值，减少跨部门沟通与协作的成本。本期文章将带领大家一窥 B 站在 API 管理方面所作的设计与思考，重点介绍我们是如何收集 API 元信息并对其进行井井有条的管理，又是如何配置这些庞大 API 资源来减轻业务管理负担，粘合跨部门间合作\">\n                      本期作者引言API 管理是应用开发中不可或缺的一部分。在早期服务数量不多的情况下，团队可以自行负责 API 管理。但随着公司规模逐渐扩张，业务接口数量爆炸式增长，此时 API 管理的任务应由统一的接口管理平台来承担，结束各自为政的局面。统一管理能够最大程度地发挥 API 的价值，减少跨部门沟通与协作的成本。本期文章将带领大家一窥 B 站在 API 管理方面所作的设计与思考，重点介绍我们是如何收集 API 元信息并对其进行井井有条的管理，又是如何配置这些庞大 API 资源来减轻业务管理负担，粘合跨部门间合作\n                    </a>","link":"https://www.bilibili.com/read/cv21313074","retrieved":1674840865532},{"title":"B站安全防御系列—僵尸网络","contents":"<a href=\"//www.bilibili.com/read/cv21247763\" target=\"_blank\" title=\"本期作者01.僵尸网络僵尸网络 Botnet 是指采用一种或多种传播手段，利用 bot（僵尸程序）病毒感染和控制数万个主机即黑客常说的傀儡机或“肉鸡”（肉机），组织成一个个命令与控制（command and control，C&amp;C）节点。控制僵尸网络的攻击机称为“僵尸主控机（Botmaster）”，主控机通过 C&amp;C服务器向 bot发布命令来发送伪造的虚假数据包或是垃圾数据包，达到使攻击目标瘫痪并“拒绝服务”（DDoS）的目的。据公开报道显示，唐山一骇客曾控制了 6万台计算机对某音乐网站进行分布式拒绝服务\">\n                      本期作者01.僵尸网络僵尸网络 Botnet 是指采用一种或多种传播手段，利用 bot（僵尸程序）病毒感染和控制数万个主机即黑客常说的傀儡机或“肉鸡”（肉机），组织成一个个命令与控制（command and control，C&amp;C）节点。控制僵尸网络的攻击机称为“僵尸主控机（Botmaster）”，主控机通过 C&amp;C服务器向 bot发布命令来发送伪造的虚假数据包或是垃圾数据包，达到使攻击目标瘫痪并“拒绝服务”（DDoS）的目的。据公开报道显示，唐山一骇客曾控制了 6万台计算机对某音乐网站进行分布式拒绝服务\n                    </a>","link":"https://www.bilibili.com/read/cv21247763","retrieved":1674840865538},{"title":"支付收银台初探","contents":"<a href=\"//www.bilibili.com/read/cv21247725\" target=\"_blank\" title=\"本期作者收银台这个词想必大家都不陌生，我们去商场购物的时候，选定一个商品，营业员就会给你一张购物票据，让我们去找收银台付款并拿着付款凭证回来领取货品。也许你曾因商场的各种满减活动或者信用卡、银联等的消费促销而在收银台兴奋地计算着又省了多少钱，也许你还记得过年时候大卖场中，因收银员开足马力也阻止不了的等待结账的队伍越积越长而难忘的疲累，也肯定还记得收银员问你的第一句话：用什么支付？随着在线购物的发展，收银台也从传统的商场收银台转移到现在线上我们早已习惯的无人收银台。它就像专为我们一对一服务一样，每当我们在网\">\n                      本期作者收银台这个词想必大家都不陌生，我们去商场购物的时候，选定一个商品，营业员就会给你一张购物票据，让我们去找收银台付款并拿着付款凭证回来领取货品。也许你曾因商场的各种满减活动或者信用卡、银联等的消费促销而在收银台兴奋地计算着又省了多少钱，也许你还记得过年时候大卖场中，因收银员开足马力也阻止不了的等待结账的队伍越积越长而难忘的疲累，也肯定还记得收银员问你的第一句话：用什么支付？随着在线购物的发展，收银台也从传统的商场收银台转移到现在线上我们早已习惯的无人收银台。它就像专为我们一对一服务一样，每当我们在网\n                    </a>","link":"https://www.bilibili.com/read/cv21247725","retrieved":1674840865538},{"title":"B站自研云游戏","contents":"<a href=\"//www.bilibili.com/read/cv21167863\" target=\"_blank\" title=\"前言随着高速网络和5G的普及，目前市面上开始有越来越多的云游戏产品。通过云游戏，玩家不需要性能强劲的设备，也不需要下载如今包体越来越大的游戏，云游戏使玩家接触游戏的门槛变得越来越低。目前业界云游戏最大的难题是如何降低延迟和解决串流卡顿，其次市面上的云游戏解决方案几乎被几家提供商垄断，第三方解决方案在功能定制和优化上自由度低、租用成本高。为了解决第三方解决方案的瓶颈，于是B站自研云游戏由此诞生。B站云游戏从设计上允许全平台使用、游戏触感反馈、本地多人合作、远程多人合作甚至可以让用户私有化部署到自己的PC上。\">\n                      前言随着高速网络和5G的普及，目前市面上开始有越来越多的云游戏产品。通过云游戏，玩家不需要性能强劲的设备，也不需要下载如今包体越来越大的游戏，云游戏使玩家接触游戏的门槛变得越来越低。目前业界云游戏最大的难题是如何降低延迟和解决串流卡顿，其次市面上的云游戏解决方案几乎被几家提供商垄断，第三方解决方案在功能定制和优化上自由度低、租用成本高。为了解决第三方解决方案的瓶颈，于是B站自研云游戏由此诞生。B站云游戏从设计上允许全平台使用、游戏触感反馈、本地多人合作、远程多人合作甚至可以让用户私有化部署到自己的PC上。\n                    </a>","link":"https://www.bilibili.com/read/cv21167863","retrieved":1674840865539},{"title":"B站基于ClickHouse的海量用户行为分析应用实践","contents":"<a href=\"//www.bilibili.com/read/cv21106590\" target=\"_blank\" title=\"01. 背景介绍数据驱动理念已被各行各业所熟知，核心环节包括数据采集、埋点规划、数据建模、数据分析和指标体系构建。在用户行为数据领域，对常见的多维数据模型进行信息提炼和模型整合，可以形成一套常见的数据分析方法来发现用户行为的内在联系，能更好洞察用户的行为习惯和行为规律，帮助企业挖掘用户数据的商业价值。行业内最早可追溯到Google Analytics埋点分析工具，国内较早开始这方面研究的是百度大数据分析平台；随着15年后国内大数据兴起，神策的用户行为分析平台、GrowthingIO的增长平台等独立数据分析\">\n                      01. 背景介绍数据驱动理念已被各行各业所熟知，核心环节包括数据采集、埋点规划、数据建模、数据分析和指标体系构建。在用户行为数据领域，对常见的多维数据模型进行信息提炼和模型整合，可以形成一套常见的数据分析方法来发现用户行为的内在联系，能更好洞察用户的行为习惯和行为规律，帮助企业挖掘用户数据的商业价值。行业内最早可追溯到Google Analytics埋点分析工具，国内较早开始这方面研究的是百度大数据分析平台；随着15年后国内大数据兴起，神策的用户行为分析平台、GrowthingIO的增长平台等独立数据分析\n                    </a>","link":"https://www.bilibili.com/read/cv21106590","retrieved":1674840865541},{"title":"2022精选技术干货 | 哔哩哔哩技术最受欢迎的20篇文章","contents":"<a href=\"//www.bilibili.com/read/cv21013987\" target=\"_blank\" title=\"哔哩哔哩技术精彩回顾（点击标题查看） 01 2021.07.13 我们是这样崩的2021年7月13日22:52，SRE收到大量服务和域名的接入层不可用报警，客服侧开始收到大量用户反馈B站无法使用，同时内部同学也反馈B站无法打开，甚至APP首页也无法打开。基于报警内容，SRE第一时间怀疑机房、网络、四层LB、七层SLB等基础设施出现问题，紧急发起语音会议，拉各团队相关人员开始紧急处理。02 B站在全链路压测上的实践压测是对服务性能和容量预估最有效的手段，而全链路压测是众多压测方案中仿真度最高的一种,能够更加\">\n                      哔哩哔哩技术精彩回顾（点击标题查看） 01 2021.07.13 我们是这样崩的2021年7月13日22:52，SRE收到大量服务和域名的接入层不可用报警，客服侧开始收到大量用户反馈B站无法使用，同时内部同学也反馈B站无法打开，甚至APP首页也无法打开。基于报警内容，SRE第一时间怀疑机房、网络、四层LB、七层SLB等基础设施出现问题，紧急发起语音会议，拉各团队相关人员开始紧急处理。02 B站在全链路压测上的实践压测是对服务性能和容量预估最有效的手段，而全链路压测是众多压测方案中仿真度最高的一种,能够更加\n                    </a>","link":"https://www.bilibili.com/read/cv21013987","retrieved":1674840865541},{"title":"热点检测治理","contents":"<a href=\"//www.bilibili.com/read/cv20999025\" target=\"_blank\" title=\"本期作者01 背景对于大部分互联网应用，数据访问频次分布通常满足二八定律，头部的20%数据往往占据超过80%的访问流量。在业务早期，由于流量较小，数据库就可以满足所有的访问流量，随着业务的发展，数据库无法抗住所有的流量，此时通常会引入高性能的缓存，用于缓解数据库的访问压力。得益于数据的二八分布，缓存的容量通常远远小于数据库的总容量，但是却能保证大部分的热点数据请求命中缓存。这一套数据库+分布式缓存的架构在大部分场景中可以工作的很好。但是当出现热门活动以及突发热点时，缓存也极有可能被打崩。以S12为例，由于\">\n                      本期作者01 背景对于大部分互联网应用，数据访问频次分布通常满足二八定律，头部的20%数据往往占据超过80%的访问流量。在业务早期，由于流量较小，数据库就可以满足所有的访问流量，随着业务的发展，数据库无法抗住所有的流量，此时通常会引入高性能的缓存，用于缓解数据库的访问压力。得益于数据的二八分布，缓存的容量通常远远小于数据库的总容量，但是却能保证大部分的热点数据请求命中缓存。这一套数据库+分布式缓存的架构在大部分场景中可以工作的很好。但是当出现热门活动以及突发热点时，缓存也极有可能被打崩。以S12为例，由于\n                    </a>","link":"https://www.bilibili.com/read/cv20999025","retrieved":1674840865542},{"title":"Promise: 异步编程的理解和使用","contents":"<a href=\"//www.bilibili.com/read/cv20922299\" target=\"_blank\" title=\"本期作者01 什么是 Promise 1.1 Promise 的背景介绍Promise 最早出现在 1988 年，由 Barbara Liskov、Liuba Shrira 首创（论文：Promises: Linguistic Support for Efficient Asynchronous Procedure Calls in Distributed Systems[1]）。并且在语言 MultiLisp 和 Concurrent Prolog 中已经有了类似的实现。JavaScript 中，Pro\">\n                      本期作者01 什么是 Promise 1.1 Promise 的背景介绍Promise 最早出现在 1988 年，由 Barbara Liskov、Liuba Shrira 首创（论文：Promises: Linguistic Support for Efficient Asynchronous Procedure Calls in Distributed Systems[1]）。并且在语言 MultiLisp 和 Concurrent Prolog 中已经有了类似的实现。JavaScript 中，Pro\n                    </a>","link":"https://www.bilibili.com/read/cv20922299","retrieved":1674840865544},{"title":"IEEE VCIP | B站窄带高清转码系统中的编码方法","contents":"<a href=\"//www.bilibili.com/read/cv20922435\" target=\"_blank\" title=\"B站窄带高清转码系统中的关键算法 —— 基于 2pass 深度学习码率因子预测的恒定画质的分段编码方法，成功被 IEEE 国际会议 VCIP 2022 接收。该方法可以以 98.8% 的准确率控制编码视频的质量，为B站节省了超过 15% 的码率成本B站每天都会接收数十万的视频投稿，其中有些作品会成为热门视频，这些热门视频吸引了大部分用户的关注，同时也会消耗大部分的带宽资源。B站会对热门视频进行优化转码，此时会使用窄带高清转码系统，以更高复杂度的编码方法，在保持画质不变的前提下，进一步去除数据冗余，避免带宽\">\n                      B站窄带高清转码系统中的关键算法 —— 基于 2pass 深度学习码率因子预测的恒定画质的分段编码方法，成功被 IEEE 国际会议 VCIP 2022 接收。该方法可以以 98.8% 的准确率控制编码视频的质量，为B站节省了超过 15% 的码率成本B站每天都会接收数十万的视频投稿，其中有些作品会成为热门视频，这些热门视频吸引了大部分用户的关注，同时也会消耗大部分的带宽资源。B站会对热门视频进行优化转码，此时会使用窄带高清转码系统，以更高复杂度的编码方法，在保持画质不变的前提下，进一步去除数据冗余，避免带宽\n                    </a>","link":"https://www.bilibili.com/read/cv20922435","retrieved":1674840865550},{"title":"哔哩哔哩内网 DNS 实践","contents":"<a href=\"//www.bilibili.com/read/cv20833180\" target=\"_blank\" title=\"本期作者01 引言域名系统(DNS)就像是互联网的地址簿，通过将一个或多个复杂难记的IP地址映射到容易识别和记忆的域名上，便于人们通过简单的域名比如 bilibili.com 访问互联网资源。在此基础上，DNS 还提供了负载均衡等重要服务。是极为关键的互联网基础设施。以 DNS 为基础的内网 DNS 服务则提供了一些额外的好处：1. 私有域名方便内网服务互联互通外界无法感知和探测到，满足了安全性和隐私方面的需求2. DNS 劫持拦截特定公网域名到内网 ip，降低公网带宽和访问延迟。如某核心服务 A 早期只\">\n                      本期作者01 引言域名系统(DNS)就像是互联网的地址簿，通过将一个或多个复杂难记的IP地址映射到容易识别和记忆的域名上，便于人们通过简单的域名比如 bilibili.com 访问互联网资源。在此基础上，DNS 还提供了负载均衡等重要服务。是极为关键的互联网基础设施。以 DNS 为基础的内网 DNS 服务则提供了一些额外的好处：1. 私有域名方便内网服务互联互通外界无法感知和探测到，满足了安全性和隐私方面的需求2. DNS 劫持拦截特定公网域名到内网 ip，降低公网带宽和访问延迟。如某核心服务 A 早期只\n                    </a>","link":"https://www.bilibili.com/read/cv20833180","retrieved":1674840865550},{"title":"B站HTTPDNS自研降本之道","contents":"<a href=\"//www.bilibili.com/read/cv20833056\" target=\"_blank\" title=\"本期作者罗丹多媒体技术部资深开发工程师龚振资深客户端开发工程师何博阳资深SRE01 背景公司目前使用的HTTPDNS服务是商业的HTTPDNS服务，商业的HTTPDNS服务按次收费，HTTPDNS大致收费价格如下图（摘自某云厂商，仅供参考）看似价格不高，但是在庞大的用户基数和数以千亿次的使用量的基础下，每月的成本也高达大几十万，一年的费用也够在国正中心旁边买套老房子了，而且随着业务量的增长，成本还会进一步的增长。在公司降本增效的大背景之下，经过公司各位大佬们的评估，自研HTTPDNS服务降低HTTPDNS\">\n                      本期作者罗丹多媒体技术部资深开发工程师龚振资深客户端开发工程师何博阳资深SRE01 背景公司目前使用的HTTPDNS服务是商业的HTTPDNS服务，商业的HTTPDNS服务按次收费，HTTPDNS大致收费价格如下图（摘自某云厂商，仅供参考）看似价格不高，但是在庞大的用户基数和数以千亿次的使用量的基础下，每月的成本也高达大几十万，一年的费用也够在国正中心旁边买套老房子了，而且随着业务量的增长，成本还会进一步的增长。在公司降本增效的大背景之下，经过公司各位大佬们的评估，自研HTTPDNS服务降低HTTPDNS\n                    </a>","link":"https://www.bilibili.com/read/cv20833056","retrieved":1674840865551}]}