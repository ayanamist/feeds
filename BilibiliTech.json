{"title":"幻电物业 - B站技术中心","url":"https://space.bilibili.com/393183630/article","favicon":"https://space.bilibili.com/393183630/favicon.ico","elements":[{"title":"B站在全链路压测上的实践","contents":"<a href=\"//www.bilibili.com/read/cv17581400\" target=\"_blank\" title=\"本期作者01 背景全链路压测是在线上生产环境中通过模拟正常用户操作路径进行压力测试的一种方式，对比于我们通常的接口压测具有仿真度高、场景覆盖全等特点。过去的几年里，阿里、美团、字节等大厂均有一系列的实践技术文章进行分享公开，更有PTS全链路压测、XSea全链路压测平台、Takin全链路压测平台等商业化解决方案。站在巨人们的肩膀上，本文将基于这些成熟的实践经验并结合 B 站的基础设施来介绍我们在全链路压测的建设和落地经验。02 方案选择我们首先看看实施全链路压测需要具备哪些能力？整体分为两部分：基\">\n                      本期作者01 背景全链路压测是在线上生产环境中通过模拟正常用户操作路径进行压力测试的一种方式，对比于我们通常的接口压测具有仿真度高、场景覆盖全等特点。过去的几年里，阿里、美团、字节等大厂均有一系列的实践技术文章进行分享公开，更有PTS全链路压测、XSea全链路压测平台、Takin全链路压测平台等商业化解决方案。站在巨人们的肩膀上，本文将基于这些成熟的实践经验并结合 B 站的基础设施来介绍我们在全链路压测的建设和落地经验。02 方案选择我们首先看看实施全链路压测需要具备哪些能力？整体分为两部分：基\n                    </a>","link":"https://www.bilibili.com/read/cv17581400","retrieved":1658166336511},{"title":"7月16日 直播预告 | 系统故障踩坑复盘：B站“713事故”后的多活容灾建设优化","contents":"<a href=\"//www.bilibili.com/read/cv17581401\" target=\"_blank\" title=\"如何写好一篇复盘报告？看B站的713复盘来获取经验吧。分享嘉宾曾深度参与713故障处理，本次分享将对713部分问题做答疑解惑，同时还会分享B站常见的高可用方案和故障后的多活容灾建设优化。直播前必看：2021.07.13 我们是这样崩的\">\n                      如何写好一篇复盘报告？看B站的713复盘来获取经验吧。分享嘉宾曾深度参与713故障处理，本次分享将对713部分问题做答疑解惑，同时还会分享B站常见的高可用方案和故障后的多活容灾建设优化。直播前必看：2021.07.13 我们是这样崩的\n                    </a>","link":"https://www.bilibili.com/read/cv17581401","retrieved":1658166336521},{"title":"2021.07.13 我们是这样崩的","contents":"<a href=\"//www.bilibili.com/read/cv17521097\" target=\"_blank\" title=\"至暗时刻2021年7月13日22:52，SRE收到大量服务和域名的接入层不可用报警，客服侧开始收到大量用户反馈B站无法使用，同时内部同学也反馈B站无法打开，甚至APP首页也无法打开。基于报警内容，SRE第一时间怀疑机房、网络、四层LB、七层SLB等基础设施出现问题，紧急发起语音会议，拉各团队相关人员开始紧急处理（为了方便理解，下述事故处理过程做了部分简化）。初因定位22:55 远程在家的相关同学登陆VPN后，无法登陆内网鉴权系统（B站内部系统有统一鉴权，需要先获取登录态后才可登陆其他内部系统），\">\n                      至暗时刻2021年7月13日22:52，SRE收到大量服务和域名的接入层不可用报警，客服侧开始收到大量用户反馈B站无法使用，同时内部同学也反馈B站无法打开，甚至APP首页也无法打开。基于报警内容，SRE第一时间怀疑机房、网络、四层LB、七层SLB等基础设施出现问题，紧急发起语音会议，拉各团队相关人员开始紧急处理（为了方便理解，下述事故处理过程做了部分简化）。初因定位22:55 远程在家的相关同学登陆VPN后，无法登陆内网鉴权系统（B站内部系统有统一鉴权，需要先获取登录态后才可登陆其他内部系统），\n                    </a>","link":"https://www.bilibili.com/read/cv17521097","retrieved":1658166336522},{"title":"7月15日 直播预告 | TOP互联网公司的SRE体系是如何建成的？","contents":"<a href=\"//www.bilibili.com/read/cv17521185\" target=\"_blank\" title=\"\">\n                      \n                    </a>","link":"https://www.bilibili.com/read/cv17521185","retrieved":1658166336524},{"title":"B站移动端低代码测试探索与实践","contents":"<a href=\"//www.bilibili.com/read/cv17467248\" target=\"_blank\" title=\"本期作者01 背景移动互联网作为一个跨度十年有余的行业，业内的技术生态已经基本上定型。在经历过各大公司技术创新跟实践后，移动端的质量保障方案逐渐演变为几个大的方向，第一个方向是将测试能力右移，通过灰度、容灾、监控建立质量保障方案，如 Crash 告警、舆情监控、问题排查、业务全链路问题定位等，基于线上规模化效应，快速发现线上问题，再通过配置、热更新、动态化等技术手段修复线上问题。另外一个方向是将测试能力左移，建设一些列的线下保障手段，如测试流程规范化、UI 自动化、Monkey、性能专项测试工具\">\n                      本期作者01 背景移动互联网作为一个跨度十年有余的行业，业内的技术生态已经基本上定型。在经历过各大公司技术创新跟实践后，移动端的质量保障方案逐渐演变为几个大的方向，第一个方向是将测试能力右移，通过灰度、容灾、监控建立质量保障方案，如 Crash 告警、舆情监控、问题排查、业务全链路问题定位等，基于线上规模化效应，快速发现线上问题，再通过配置、热更新、动态化等技术手段修复线上问题。另外一个方向是将测试能力左移，建设一些列的线下保障手段，如测试流程规范化、UI 自动化、Monkey、性能专项测试工具\n                    </a>","link":"https://www.bilibili.com/read/cv17467248","retrieved":1658166336526},{"title":"7月5日 直播预告 | AB公开课之数据存储系列第①期：KV存储","contents":"<a href=\"//www.bilibili.com/read/cv17418653\" target=\"_blank\" title=\"AB公开课 ( AI &amp; Big Data Open Class ) ，是 DataFun 策划的针对大数据和 AI 某一细分领域的系列垂直在线公开课。旨在为广大数据智能从业者提供一个日常学习交流的平台，促进先进的数据智能技术的传播与广泛落地。7月5日，18:00-19:30，AB公开课 | 数据存储系列第①期，将邀请来自 bilibili 和抖音的两位嘉宾，就 KV 存储的相关主题进行深度分享与交流，欢迎大家按时收看直播~主办方：DataFun直播时间：7.5 18:00-19:30活动地点：\">\n                      AB公开课 ( AI &amp; Big Data Open Class ) ，是 DataFun 策划的针对大数据和 AI 某一细分领域的系列垂直在线公开课。旨在为广大数据智能从业者提供一个日常学习交流的平台，促进先进的数据智能技术的传播与广泛落地。7月5日，18:00-19:30，AB公开课 | 数据存储系列第①期，将邀请来自 bilibili 和抖音的两位嘉宾，就 KV 存储的相关主题进行深度分享与交流，欢迎大家按时收看直播~主办方：DataFun直播时间：7.5 18:00-19:30活动地点：\n                    </a>","link":"https://www.bilibili.com/read/cv17418653","retrieved":1658166336529},{"title":"B站离线多机房架构实践","contents":"<a href=\"//www.bilibili.com/read/cv17418652\" target=\"_blank\" title=\"本期作者01 背景随着B站业务的高速发展，业务数据的生产速度变得越来越快，离线集群规模快速膨胀，既有机房内的机位急剧消耗，在可预见的不久的将来会达到机房容量上限，阻塞业务的发展。因此，如何解决单机房容量瓶颈成为了我们亟待解决的问题。目前，针对机房容量问题的解决方案业界主要有以下两种：1）集群整体搬迁至更高容量的机房（scale up）。该方案是一种纵向扩容方案，即将现有集群搬迁至容量更大的机房，从而提供集群扩展的空间。现实中，集群迁移一般不能影响业务的发展，即保证不停机，因此，迁移过程中需要两个\">\n                      本期作者01 背景随着B站业务的高速发展，业务数据的生产速度变得越来越快，离线集群规模快速膨胀，既有机房内的机位急剧消耗，在可预见的不久的将来会达到机房容量上限，阻塞业务的发展。因此，如何解决单机房容量瓶颈成为了我们亟待解决的问题。目前，针对机房容量问题的解决方案业界主要有以下两种：1）集群整体搬迁至更高容量的机房（scale up）。该方案是一种纵向扩容方案，即将现有集群搬迁至容量更大的机房，从而提供集群扩展的空间。现实中，集群迁移一般不能影响业务的发展，即保证不停机，因此，迁移过程中需要两个\n                    </a>","link":"https://www.bilibili.com/read/cv17418652","retrieved":1658166336530},{"title":"7月2日-3日 | ee 2022 卓越工程生产力大会 等你来！","contents":"<a href=\"//www.bilibili.com/read/cv17349792\" target=\"_blank\" title=\"即刻扫码！开启10倍研发效能提升之旅！\">\n                      即刻扫码！开启10倍研发效能提升之旅！\n                    </a>","link":"https://www.bilibili.com/read/cv17349792","retrieved":1658166336531},{"title":"画质可控的场景自适应转码系统","contents":"<a href=\"//www.bilibili.com/read/cv17349752\" target=\"_blank\" title=\"本期作者背景B站每天都会接收数十万的视频投稿，在这海量的稿件中，有一部分作品会成为热门视频。这些热门视频吸引了大部分用户的关注，同时也会消耗大部分的带宽资源。因此当作品热度上升之后，B站会对视频进行重新转码，此时会使用更高复杂度的编码方法，在保持画质不变的前提下，进一步去除数据冗余，以提高压缩比，降低码率，避免带宽资源的浪费。为了提高视频转码的性能，B站研发了一种画质可控的场景自适应转码系统。先自动切分出每个单镜头场景，然后对每段场景预测最优编码参数，精准控制编码画质，最后合并码流得到压缩视频文\">\n                      本期作者背景B站每天都会接收数十万的视频投稿，在这海量的稿件中，有一部分作品会成为热门视频。这些热门视频吸引了大部分用户的关注，同时也会消耗大部分的带宽资源。因此当作品热度上升之后，B站会对视频进行重新转码，此时会使用更高复杂度的编码方法，在保持画质不变的前提下，进一步去除数据冗余，以提高压缩比，降低码率，避免带宽资源的浪费。为了提高视频转码的性能，B站研发了一种画质可控的场景自适应转码系统。先自动切分出每个单镜头场景，然后对每段场景预测最优编码参数，精准控制编码画质，最后合并码流得到压缩视频文\n                    </a>","link":"https://www.bilibili.com/read/cv17349752","retrieved":1658166336533},{"title":"常数时间国密算法（二）：SM2的代码分支规避","contents":"<a href=\"//www.bilibili.com/read/cv17299906\" target=\"_blank\" title=\"本期作者背景区块链离普通人越来越近了。相应地，安全问题也会逐渐凸显出来。作为区块链基础设施建设者以及重要参与者，我们十分重视链的安全和用户资产的安全。其中一个至关重要的环节便是支持国家的商密算法，特别是其中的SM2椭圆曲线公钥密码算法、SM3杂凑算法、SM4分组密码算法。前面我们介绍SM2查表保护技术的时候，提到了代码分支问题。这篇文章具体讨论代码分支相关的安全隐患和规避代码分支的一些技术。代码分支的问题这里说的代码分支，特指根据敏感的数据作出代码分支，从而使得外界可以根据代码分支所造成的可观测\">\n                      本期作者背景区块链离普通人越来越近了。相应地，安全问题也会逐渐凸显出来。作为区块链基础设施建设者以及重要参与者，我们十分重视链的安全和用户资产的安全。其中一个至关重要的环节便是支持国家的商密算法，特别是其中的SM2椭圆曲线公钥密码算法、SM3杂凑算法、SM4分组密码算法。前面我们介绍SM2查表保护技术的时候，提到了代码分支问题。这篇文章具体讨论代码分支相关的安全隐患和规避代码分支的一些技术。代码分支的问题这里说的代码分支，特指根据敏感的数据作出代码分支，从而使得外界可以根据代码分支所造成的可观测\n                    </a>","link":"https://www.bilibili.com/read/cv17299906","retrieved":1658166336535},{"title":"直播间场景下长链消息业务性能测试实践（一）：APP客户端","contents":"<a href=\"//www.bilibili.com/read/cv17299728\" target=\"_blank\" title=\"本期作者背景和挑战近年来B站直播业务飞速发展，从LOL S赛到“最美的夜”跨晚直播、传统节目拜年纪，高流量直播互动节目对直播间看端性能和质量提出了越来越高的要求。直播的互动形态随着技术的迭代演进，由直播间内用户聊天互动的IM消息流衍生出礼物消息、进场、关注、购买、带货商品、连麦、付费留言等互动行为的实时提醒，这些丰富的实时交互能力都是通过长链消息流下发的。消息流可以认为是直播间内主播与用户间实时互动和直播间实时控制的基础能力，在B站直播业务统称这类消息流为“广播”。对比电商等传统C端业务，交互形\">\n                      本期作者背景和挑战近年来B站直播业务飞速发展，从LOL S赛到“最美的夜”跨晚直播、传统节目拜年纪，高流量直播互动节目对直播间看端性能和质量提出了越来越高的要求。直播的互动形态随着技术的迭代演进，由直播间内用户聊天互动的IM消息流衍生出礼物消息、进场、关注、购买、带货商品、连麦、付费留言等互动行为的实时提醒，这些丰富的实时交互能力都是通过长链消息流下发的。消息流可以认为是直播间内主播与用户间实时互动和直播间实时控制的基础能力，在B站直播业务统称这类消息流为“广播”。对比电商等传统C端业务，交互形\n                    </a>","link":"https://www.bilibili.com/read/cv17299728","retrieved":1658166336536},{"title":"B站压测实践之压测平台的演进","contents":"<a href=\"//www.bilibili.com/read/cv17245121\" target=\"_blank\" title=\"本期作者01 背景压测的重要性毋庸置疑，相比于监控，压测可以说是主动手段，通过高负载的预演，及时发现线上服务的瓶颈和缺陷，对线上服务质量保障起到了至关重要的作用。而在B站，核心业务都会频繁进行压测，主要有几种场景：针对新应用，挖掘高负载下可能暴露出的功能缺陷，同时探测服务承载极限，合理规划实例数量。针对老应用，在功能迭代过程中，通过持续压测，观察功能变动对性能的影响。针对大型活动（S赛事、拜年纪、跨晚等等），按照预估峰值流量来进行全链路预演，发现性能瓶颈点，提前扩容弥补。我们会分上下两篇来分别介\">\n                      本期作者01 背景压测的重要性毋庸置疑，相比于监控，压测可以说是主动手段，通过高负载的预演，及时发现线上服务的瓶颈和缺陷，对线上服务质量保障起到了至关重要的作用。而在B站，核心业务都会频繁进行压测，主要有几种场景：针对新应用，挖掘高负载下可能暴露出的功能缺陷，同时探测服务承载极限，合理规划实例数量。针对老应用，在功能迭代过程中，通过持续压测，观察功能变动对性能的影响。针对大型活动（S赛事、拜年纪、跨晚等等），按照预估峰值流量来进行全链路预演，发现性能瓶颈点，提前扩容弥补。我们会分上下两篇来分别介\n                    </a>","link":"https://www.bilibili.com/read/cv17245121","retrieved":1658166336538}]}