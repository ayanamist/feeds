{"title":"幻电物业 - B站技术中心","url":"https://space.bilibili.com/393183630/article","favicon":"https://space.bilibili.com/393183630/favicon.ico","elements":[{"title":"B站多云管理平台建设","contents":"<a href=\"//www.bilibili.com/read/cv22693220\" target=\"_blank\" title=\"本期作者 SYS平台 B站系统部平台团队，负责全站基础设施管理平台化和自动化、混合云IaC、资源运营CMDB等业务系统研发1.前言为什么使用多云：公有云因为其弹性、按需使用以及多地域的覆盖等优势，企业在高速发展的过程中往往会选择公有云来提供应用所需的基础设施；为了高稳定性和成本最优的考虑，一般会引入多家云厂商； 多云部署防止单一云厂商故障导致服务完全不可用； 采用多云也提升了采购上的议价能力，避免单一厂商绑定，在价格谈判中处于劣势；不同的云厂商在覆盖的地域、产品的能力上不一致，引入多云可以充分发挥各厂商的\">\n                      本期作者 SYS平台 B站系统部平台团队，负责全站基础设施管理平台化和自动化、混合云IaC、资源运营CMDB等业务系统研发1.前言为什么使用多云：公有云因为其弹性、按需使用以及多地域的覆盖等优势，企业在高速发展的过程中往往会选择公有云来提供应用所需的基础设施；为了高稳定性和成本最优的考虑，一般会引入多家云厂商； 多云部署防止单一云厂商故障导致服务完全不可用； 采用多云也提升了采购上的议价能力，避免单一厂商绑定，在价格谈判中处于劣势；不同的云厂商在覆盖的地域、产品的能力上不一致，引入多云可以充分发挥各厂商的\n                    </a>","link":"https://www.bilibili.com/read/cv22693220","retrieved":1680068072835},{"title":"B站埋点分析平台的构建之路","contents":"<a href=\"//www.bilibili.com/read/cv22600289\" target=\"_blank\" title=\"本期作者前言B站内各业务产品迭代离不开各种数据决策，而依托于埋点的用户行为数据在其中起到了 关键作用。埋点也是算法推荐、渠道投放、业务决策的重要数据来源，鉴于此，如何规范埋点设计，高效采集，让业务团队快速直观分析成为了推进业务发展的重要一环。本文主要分享B站过去在埋点规范设计、埋点分析应用的经验，我们相信数据只有流动起来，才能发挥它的价值，The data must flow！业务背景简介在 B站，产品的迭代少不了数据指标的监测，公司内各业务线的产品经理、运营、分析师会关注产品内部的各个指标，从数据采集到\">\n                      本期作者前言B站内各业务产品迭代离不开各种数据决策，而依托于埋点的用户行为数据在其中起到了 关键作用。埋点也是算法推荐、渠道投放、业务决策的重要数据来源，鉴于此，如何规范埋点设计，高效采集，让业务团队快速直观分析成为了推进业务发展的重要一环。本文主要分享B站过去在埋点规范设计、埋点分析应用的经验，我们相信数据只有流动起来，才能发挥它的价值，The data must flow！业务背景简介在 B站，产品的迭代少不了数据指标的监测，公司内各业务线的产品经理、运营、分析师会关注产品内部的各个指标，从数据采集到\n                    </a>","link":"https://www.bilibili.com/read/cv22600289","retrieved":1680068072836},{"title":"bilibili-AVIF图片格式落地","contents":"<a href=\"//www.bilibili.com/read/cv22543150\" target=\"_blank\" title=\"本期作者背景图片库加载服务是为bilibili打造的移动端一站式解决方案，集图像加载、显示、处理、监控于一体，以高可用、高性能、可高度定制、数据服务、省流量五大核心优势被公司各个业务接入使用，经过长期的迭代与维护，已成熟稳定。在如今越来越看重体验的大环境下，对图片库的要求也日益攀升。从成本的角度来看，使用AVIF格式可以节省大量的网络带宽和存储空间，减少网站加载时间，并且可以改善用户体验，进而提高网站的效率和收益，从而节约大量的费用。AVIF格式能够带来许多优势，首先，AVIF格式具有明显的压缩率优势，可\">\n                      本期作者背景图片库加载服务是为bilibili打造的移动端一站式解决方案，集图像加载、显示、处理、监控于一体，以高可用、高性能、可高度定制、数据服务、省流量五大核心优势被公司各个业务接入使用，经过长期的迭代与维护，已成熟稳定。在如今越来越看重体验的大环境下，对图片库的要求也日益攀升。从成本的角度来看，使用AVIF格式可以节省大量的网络带宽和存储空间，减少网站加载时间，并且可以改善用户体验，进而提高网站的效率和收益，从而节约大量的费用。AVIF格式能够带来许多优势，首先，AVIF格式具有明显的压缩率优势，可\n                    </a>","link":"https://www.bilibili.com/read/cv22543150","retrieved":1680068072839},{"title":"2D矢量动画在B站的探索与实践-三角剖分","contents":"<a href=\"//www.bilibili.com/read/cv22453976\" target=\"_blank\" title=\"本期作者三角剖分在前文中，我们拥有了对一个矢量图形的路径描述。在本文中我们会介绍，如何将已有的路径描述 (Path) 转化为，GPU可读取的三角形的顶点数据。整体处理过程如下图所示，路径作为输入，折线化模块首先使用折线近似曲线将其转化为复杂多边形，接着将复杂多边形简单化、简单多边形单调化、单调多边形三角化，最终得到一组三角形作为输出！上图中相关的概念解释如下（可能与通常的定义略有差异）：简单多边形：边不相交的多边形复杂多边形：除了简单多边形之外的多边形单调多边形：如果一个多边形基于它的 y（或x）坐标值最\">\n                      本期作者三角剖分在前文中，我们拥有了对一个矢量图形的路径描述。在本文中我们会介绍，如何将已有的路径描述 (Path) 转化为，GPU可读取的三角形的顶点数据。整体处理过程如下图所示，路径作为输入，折线化模块首先使用折线近似曲线将其转化为复杂多边形，接着将复杂多边形简单化、简单多边形单调化、单调多边形三角化，最终得到一组三角形作为输出！上图中相关的概念解释如下（可能与通常的定义略有差异）：简单多边形：边不相交的多边形复杂多边形：除了简单多边形之外的多边形单调多边形：如果一个多边形基于它的 y（或x）坐标值最\n                    </a>","link":"https://www.bilibili.com/read/cv22453976","retrieved":1680068072840},{"title":"HDFS EC在B站的实践","contents":"<a href=\"//www.bilibili.com/read/cv22380724\" target=\"_blank\" title=\"本期作者1.背景随着B站业务的高速发展，业务产生的数据每天以PB级的速度持续增长，之前主要应对方法是分析数据的使用频率，把数据分为热冷俩类数据，对冷数据进行高密存储来降低存储成本，以及对部分非核心的冷数据进行数据周期管理。随着体量的增大，即使TTL机制的运行，冷数据的存储量也越来越多，这部分数据长时间未有访问，但仍然具有一定的价值，不能随意清理，且占总体数据量的30%以上，现有的高密存储机制虽然能一定程度上降低存储成本，但是为了进一步的降本增效，我们计划用技术手段进一步节省存储成本。目前社区针对降低存储容\">\n                      本期作者1.背景随着B站业务的高速发展，业务产生的数据每天以PB级的速度持续增长，之前主要应对方法是分析数据的使用频率，把数据分为热冷俩类数据，对冷数据进行高密存储来降低存储成本，以及对部分非核心的冷数据进行数据周期管理。随着体量的增大，即使TTL机制的运行，冷数据的存储量也越来越多，这部分数据长时间未有访问，但仍然具有一定的价值，不能随意清理，且占总体数据量的30%以上，现有的高密存储机制虽然能一定程度上降低存储成本，但是为了进一步的降本增效，我们计划用技术手段进一步节省存储成本。目前社区针对降低存储容\n                    </a>","link":"https://www.bilibili.com/read/cv22380724","retrieved":1680068072841},{"title":"哔哩哔哩大数据平台建设之路—数据安全篇","contents":"<a href=\"//www.bilibili.com/read/cv22311643\" target=\"_blank\" title=\"本期作者1.序言Berserker是B站一站式数据开发及治理平台，基于常用大数据生态组件构建，满足公司内数据查询、数据分析、日常报表、数据集成、数据开发、实时计算和数据治理等各种业务场景。在B站，我们一般将Berserker简写为BSK。图1. Berserker的整体架构图2. Berserker主页其中，数据安全是Berserker平台中重要的一部分，它将为公司内部 Hive、Kafka、ClickHouse、ETL任务等各种资产进行统一的数据安全管理，并为数据平台部内部的数据开发、数据分析、数据报表\">\n                      本期作者1.序言Berserker是B站一站式数据开发及治理平台，基于常用大数据生态组件构建，满足公司内数据查询、数据分析、日常报表、数据集成、数据开发、实时计算和数据治理等各种业务场景。在B站，我们一般将Berserker简写为BSK。图1. Berserker的整体架构图2. Berserker主页其中，数据安全是Berserker平台中重要的一部分，它将为公司内部 Hive、Kafka、ClickHouse、ETL任务等各种资产进行统一的数据安全管理，并为数据平台部内部的数据开发、数据分析、数据报表\n                    </a>","link":"https://www.bilibili.com/read/cv22311643","retrieved":1680068072851},{"title":"资源隔离技术之内存隔离","contents":"<a href=\"//www.bilibili.com/read/cv22232558\" target=\"_blank\" title=\"本期作者 SYS-OS B站系统部操作系统（SYS-OS）团队负责公司OS层面系统软件支持覆盖内核优化、系统工具、操作系统镜像、软硬件结合等方向的工作1.混部的内存隔离现状在降本增效的大背景下，为提高机器资源利用率，将不同优先级的在线业务(通常为延迟敏感型高优先级任务)和离线任务(通常为延时不敏感型低优先级任务)部署在相同的物理机器上。内存作为重要资源，混部任务一旦调度到某个k8s节点后，在内存资源使用上可能对在线任务产生竞争，为了避免此种情况对在线任务的干扰，我们可能需要感知在线任务的负载情况并做相应的\">\n                      本期作者 SYS-OS B站系统部操作系统（SYS-OS）团队负责公司OS层面系统软件支持覆盖内核优化、系统工具、操作系统镜像、软硬件结合等方向的工作1.混部的内存隔离现状在降本增效的大背景下，为提高机器资源利用率，将不同优先级的在线业务(通常为延迟敏感型高优先级任务)和离线任务(通常为延时不敏感型低优先级任务)部署在相同的物理机器上。内存作为重要资源，混部任务一旦调度到某个k8s节点后，在内存资源使用上可能对在线任务产生竞争，为了避免此种情况对在线任务的干扰，我们可能需要感知在线任务的负载情况并做相应的\n                    </a>","link":"https://www.bilibili.com/read/cv22232558","retrieved":1680068072852},{"title":"节省数亿IT成本，B站FinOps实践","contents":"<a href=\"//www.bilibili.com/read/cv22150189\" target=\"_blank\" title=\"本期作者01.背景当前，降本增效是各大互联网公司的重要方向，IT成本则占据了互联网公司成本的大头。如何有效的降本？如何推动各业务线配合？如何平衡成本、质量和效率？本文将介绍B站的IT成本管理和优化的思路，介绍B站通过落地FinOps，推进成本洞察、技术优化和运营优化，提升资源效率的经验。2022年，在B站DAU稳步增长的情况下，IT成本花费金额低于21年同期，为公司节省了数亿成本。项目团队也获得了公司2022年度技术突出贡献奖。02.历史IT的成本管理主要是针对预算的管理，每财年开始的时候完成整个财年的预\">\n                      本期作者01.背景当前，降本增效是各大互联网公司的重要方向，IT成本则占据了互联网公司成本的大头。如何有效的降本？如何推动各业务线配合？如何平衡成本、质量和效率？本文将介绍B站的IT成本管理和优化的思路，介绍B站通过落地FinOps，推进成本洞察、技术优化和运营优化，提升资源效率的经验。2022年，在B站DAU稳步增长的情况下，IT成本花费金额低于21年同期，为公司节省了数亿成本。项目团队也获得了公司2022年度技术突出贡献奖。02.历史IT的成本管理主要是针对预算的管理，每财年开始的时候完成整个财年的预\n                    </a>","link":"https://www.bilibili.com/read/cv22150189","retrieved":1680068072854},{"title":"语音识别技术在B站的落地实践","contents":"<a href=\"//www.bilibili.com/read/cv22100337\" target=\"_blank\" title=\"本期作者前言自动语音识别（Automatic Speech Recognition，ASR）技术目前已大规模落地于B站相关业务场景，例如音视频内容安全审核，AI字幕（C端，必剪，S12直播等），视频理解（全文检索）等。另外，B站ASR引擎在工业界benchmark SpeechIO （https://github.com/SpeechColab/Leaderboard）2022年11月最近一期全量测评中也取得了第一名（https://github.com/SpeechColab/Leaderboard#5\">\n                      本期作者前言自动语音识别（Automatic Speech Recognition，ASR）技术目前已大规模落地于B站相关业务场景，例如音视频内容安全审核，AI字幕（C端，必剪，S12直播等），视频理解（全文检索）等。另外，B站ASR引擎在工业界benchmark SpeechIO （https://github.com/SpeechColab/Leaderboard）2022年11月最近一期全量测评中也取得了第一名（https://github.com/SpeechColab/Leaderboard#5\n                    </a>","link":"https://www.bilibili.com/read/cv22100337","retrieved":1680068072855},{"title":"二次元超分常见瑕疵及处理","contents":"<a href=\"//www.bilibili.com/read/cv22006362\" target=\"_blank\" title=\"本期作者背景2014年，SRCNN (Learning a Deep Convolutional Network for Image Super-Resolution, ECCV2014)横空出世，是深度学习用在超分辨率重建上的开山之作。随着AI技术的发展，超分辨率重建的效果越来越好，速度越来越快。随着B站自研的超分模型公开，越来越多的视频可以使用超分辨率技术进行画质提升。然而，技术领域没有银弹，基于深度学习的超分辨率重建自然也有其难以克服的缺点存在，适当的人为干预将极大提升超分效果。超分辨率的数学原理视\">\n                      本期作者背景2014年，SRCNN (Learning a Deep Convolutional Network for Image Super-Resolution, ECCV2014)横空出世，是深度学习用在超分辨率重建上的开山之作。随着AI技术的发展，超分辨率重建的效果越来越好，速度越来越快。随着B站自研的超分模型公开，越来越多的视频可以使用超分辨率技术进行画质提升。然而，技术领域没有银弹，基于深度学习的超分辨率重建自然也有其难以克服的缺点存在，适当的人为干预将极大提升超分效果。超分辨率的数学原理视\n                    </a>","link":"https://www.bilibili.com/read/cv22006362","retrieved":1680068072857},{"title":"如何用go实现一个ORM","contents":"<a href=\"//www.bilibili.com/read/cv21943763\" target=\"_blank\" title=\"本期作者为了提高开发效率和质量，我们常常需要ORM来帮助我们快速实现持久层增删改查API，目前go语言实现的ORM有很多种，他们都有自己的优劣点，有的实现简单，有的功能复杂，有的API十分优雅。在使用了多个类似的工具之后，总是会发现某些点无法满足解决我们生产环境中碰到的实际问题，比如无法集成公司内部的监控，Trace组件，没有database层的超时设置，没有熔断等，所以有必要公司自己内部实现一款满足我们可自定义开发的ORM，好用的生产工具常常能够对生产力产生飞跃式的提升。为什么需要ORM直接使用data\">\n                      本期作者为了提高开发效率和质量，我们常常需要ORM来帮助我们快速实现持久层增删改查API，目前go语言实现的ORM有很多种，他们都有自己的优劣点，有的实现简单，有的功能复杂，有的API十分优雅。在使用了多个类似的工具之后，总是会发现某些点无法满足解决我们生产环境中碰到的实际问题，比如无法集成公司内部的监控，Trace组件，没有database层的超时设置，没有熔断等，所以有必要公司自己内部实现一款满足我们可自定义开发的ORM，好用的生产工具常常能够对生产力产生飞跃式的提升。为什么需要ORM直接使用data\n                    </a>","link":"https://www.bilibili.com/read/cv21943763","retrieved":1680068072858},{"title":"B站流程引擎设计与实践","contents":"<a href=\"//www.bilibili.com/read/cv21867369\" target=\"_blank\" title=\"本期作者背景随着企业的发展，软件开发的技术、架构以及理念也在快速更新迭代，如何搭建一套兼容当前IT架构且能适应未来变化的通用业务流程引擎是提升企业运营效率的关键。Comet流程引擎自 2019 年启动研发并发布第一个版本，至今已陆续发布多个正式版本。该系统以其足够的灵活性、通用性和易用性，支撑了B站业务中大量需要借助流程引擎来实现逻辑流转和自动化的场景，跨度从底层基础设施、基础架构到上层各类业务，如各类资源申请、应用发布、推送审核、电子签约、版权评级等等。在此背景下，本文以Comet为例，围绕流程引擎的作\">\n                      本期作者背景随着企业的发展，软件开发的技术、架构以及理念也在快速更新迭代，如何搭建一套兼容当前IT架构且能适应未来变化的通用业务流程引擎是提升企业运营效率的关键。Comet流程引擎自 2019 年启动研发并发布第一个版本，至今已陆续发布多个正式版本。该系统以其足够的灵活性、通用性和易用性，支撑了B站业务中大量需要借助流程引擎来实现逻辑流转和自动化的场景，跨度从底层基础设施、基础架构到上层各类业务，如各类资源申请、应用发布、推送审核、电子签约、版权评级等等。在此背景下，本文以Comet为例，围绕流程引擎的作\n                    </a>","link":"https://www.bilibili.com/read/cv21867369","retrieved":1680068072859}]}